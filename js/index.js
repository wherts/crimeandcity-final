var margin = {top: 0, right: 50, bottom: 20, left: 100},
      width = 800 - margin.left - margin.right,
      height = 800 - margin.top - margin.bottom;

var mapWidth = 545,
    mapHeight = 690;

var botLat = 34.0623;
var leftLng = -118.267;
var topLat = 34.1084;
var rightLng = -118.224;

var line = d3.svg.line()
              .x(function(d) { return d.x; })
              .y(function(d) { return d.y; })
              .interpolate("cardinal");

var createListener = function() {
  $("#wrapper").on("click", function (evt) {
    console.log(evt.pageX + ", " + (evt.pageY - 80));
  });
}

$(document).ready(function() {
  var svg = d3.select("#wrapper")
              .append("svg")
              .attr("class", "box")
              .attr("width", width + margin.left + margin.right)
              .attr("height", height + margin.bottom + margin.top);

  createListener();
  var map = svg.append("image")
              .attr("x", 0)
              .attr("y", 0)
              .attr("height", mapHeight)
              .attr("width", mapWidth)
              .attr("xlink:href", "../data/echopark.svg");

  svg.append("circle")
      .attr("cx", 30)
      .attr("cy", 30)
      .attr("r", 20);

  
  // //187200
  // var pathData = [
  //   {x: "126", y: "10"},
  //   {x: "130", y: "0"},
  //   {x: "169", y: "3"},
  //   {x: "225", y: "2"},
  //   {x: "251", y: "7"},
  //   {x: "272", y: "14"},
  //   {x: "297", y: "29"},
  //   {x: "313", y: "45"},
  //   {x: "319", y: "72"},
  //   {x: "319", y: "102"},
  //   {x: "322", y: "139"},
  //   {x: "340", y: "177"},
  //   {x: "325", y: "196"},
  //   {x: "312", y: "206"},
  //   {x: "284", y: "174"},
  //   {x: "262", y: "144"},
  //   {x: "228", y: "96"},
  //   {x: "194", y: "60"},
  //   {x: "158", y: "26"},
  //   {x: "126", y: "10"}];
  //
  //
  // svg.append("path")
  //     .attr("id", "CT187200")
  //     .attr("class", "tract")
  //     .attr("d", line(pathData));
  //
  // //197200
  // var pathData = [
  //   {x: "316", y: "206"},
  //   {x: "325", y: "196"},
  //   {x: "343", y: "180"},
  //   {x: "350", y: "196"},
  //   {x: "368", y: "209"},
  //   {x: "388", y: "220"},
  //   {x: "427", y: "229"},
  //   {x: "449", y: "239"},
  //   {x: "466", y: "255"},
  //   {x: "487", y: "279"},
  //   {x: "495", y: "308"},
  //   {x: "497", y: "341"},
  //   {x: "494", y: "376"},
  //   {x: "473", y: "360"},
  //   {x: "420", y: "318"},
  //   {x: "390", y: "295"},
  //   {x: "360", y: "267"},
  //   {x: "327", y: "223"}];
  //
  // svg.append("path")
  //     .attr("id", "CT197200")
  //     .attr("class", "tract")
  //     .attr("d", line(pathData));
  //
  //   // 197700
  //   pathData = [
  //     {x: "248", y: "674"},
  //     {x: "233", y: "656"},
  //     {x: "220", y: "629"},
  //     {x: "217", y: "602"},
  //     {x: "214", y: "577"},
  //     {x: "209", y: "546"},
  //     {x: "205", y: "536"},
  //     {x: "193", y: "517"},
  //     {x: "224", y: "529"},
  //     {x: "255", y: "546"},
  //     {x: "274", y: "571"},//***
  //     {x: "285", y: "564"},
  //     {x: "342", y: "594"},
  //     {x: "341", y: "605"},
  //     {x: "350", y: "609"},
  //     {x: "359", y: "607"},
  //     {x: "379", y: "592"},
  //     {x: "385", y: "603"},
  //     {x: "342", y: "631"},
  //     {x: "317", y: "647"},
  //     {x: "291", y: "660"},
  //     {x: "269", y: "664"},
  //     {x: "248", y: "673"},
  //     {x: "248", y: "674"}];
  //   svg.append("path")
  //       .attr("id", "CT197700")
  //       .attr("class", "tract")
  //       .attr("d", line(pathData));
  //
  //       // 197110
  //     pathData = [
  //       {x: "274", y: "571"},
  //       {x: "255", y: "546"},
  //       {x: "224", y: "529"},
  //       {x: "213", y: "524"},
  //       {x: "219", y: "511"},
  //       {x: "216", y: "490"},
  //       {x: "210", y: "473"},
  //       {x: "204", y: "446"},
  //       {x: "200", y: "422"},
  //       {x: "212", y: "408"},
  //       {x: "222", y: "391"},
  //       {x: "235", y: "371"},
  //       {x: "236", y: "349"},
  //       {x: "253", y: "333"},
  //       {x: "266", y: "318"},
  //       {x: "287", y: "305"},
  //       {x: "304", y: "283"},
  //       {x: "302", y: "270"},
  //       {x: "278", y: "257"},
  //       {x: "303", y: "235"},
  //       {x: "316", y: "229"},
  //       {x: "293", y: "202"},
  //       {x: "315", y: "210"},
  //       {x: "327", y: "223"},
  //       {x: "360", y: "267"},
  //       {x: "390", y: "295"},
  //       {x: "420", y: "318"},
  //       {x: "473", y: "360"},
  //       {x: "493", y: "378"},
  //       {x: "495", y: "410"},
  //       {x: "504", y: "436"},
  //       {x: "477", y: "464"},
  //       {x: "441", y: "502"},
  //       {x: "418", y: "529"},
  //       {x: "410", y: "540"},
  //       {x: "396", y: "581"},
  //       {x: "379", y: "592"},
  //       {x: "359", y: "607"},
  //       {x: "350", y: "609"},
  //       {x: "341", y: "605"},
  //       {x: "342", y: "594"},
  //       {x: "285", y: "564"},
  //       {x: "274", y: "571"}];
  //     svg.append("path")
  //         .attr("id", "CT197110")
  //         .attr("class", "tract")
  //         .attr("d", line(pathData));
  //
  //   // 197600
  //   pathData = [
  //     {x: "248", y: "674"},
  //     {x: "233", y: "656"},
  //     {x: "220", y: "629"},
  //     {x: "217", y: "602"},
  //     {x: "214", y: "577"},
  //     {x: "209", y: "546"},
  //     {x: "205", y: "536"},
  //     {x: "186", y: "523"},
  //     {x: "143", y: "614"},
  //     {x: "165", y: "630"},
  //     {x: "192", y: "650"},
  //     {x: "222", y: "673"},
  //     {x: "241", y: "680"},
  //     {x: "248", y: "674"}];
  //   svg.append("path")
  //       .attr("id", "CT197600")
  //       .attr("class", "tract")
  //       .attr("d", line(pathData));
  //
  //   // 197500
  //   pathData = [
  //     {x: "75", y: "584"},
  //     {x: "71", y: "538"},
  //     {x: "73", y: "500"},
  //     {x: "88", y: "464"},
  //     {x: "148", y: "489"},
  //     {x: "182", y: "514"},
  //     {x: "164", y: "567"},
  //     {x: "141", y: "614"},
  //     {x: "116", y: "599"},
  //     {x: "75", y: "584"}
  //   ];
  //
  //   svg.append("path")
  //       .attr("id", "CT197500")
  //       .attr("class", "tract")
  //       .attr("d", line(pathData));
  //
  //   // 195720
  //   pathData = [
  //     {x: "8", y: "550"},
  //     {x: "50", y: "473"},
  //     {x: "65", y: "462"},
  //     {x: "73", y: "464"},
  //     {x: "75", y: "492"},
  //     {x: "70", y: "529"},
  //     {x: "71", y: "584"},
  //     {x: "8", y: "550"}
  //   ];
  //
  //   svg.append("path")
  //       .attr("id", "CT195720")
  //       .attr("class", "tract")
  //       .attr("d", line(pathData));
  //
  //   // 197420
  //   pathData = [
  //     {x: "90", y: "461"},
  //     {x: "93", y: "387"},
  //     {x: "96", y: "341"},
  //     {x: "100", y: "294"},
  //     {x: "126", y: "308"},
  //     {x: "140", y: "301"},
  //     {x: "190", y: "334"},
  //     {x: "170", y: "364"},
  //     {x: "162", y: "388"},
  //     {x: "160", y: "411"},
  //     {x: "128", y: "474"},
  //     {x: "90", y: "461"}
  //   ];
  //   svg.append("path")
  //       .attr("id", "CT197420")
  //       .attr("class", "tract")
  //       .attr("d", line(pathData));
  //
  //   // 197300
  //   pathData = [
  //     {x: "130", y: "477"},
  //     {x: "162", y: "411"},
  //     {x: "162", y: "388"},
  //     {x: "170", y: "364"},
  //     {x: "194", y: "335"},
  //     {x: "218", y: "315"},
  //     {x: "217", y: "289"}, //from here
  //     {x: "265", y: "315"},
  //     {x: "266", y: "318"},
  //     {x: "253", y: "333"},
  //     {x: "236", y: "349"},
  //     {x: "235", y: "371"},
  //     {x: "222", y: "391"},
  //     {x: "212", y: "408"},
  //     {x: "200", y: "422"},
  //     {x: "204", y: "446"},
  //     {x: "210", y: "473"},
  //     {x: "216", y: "490"},
  //     {x: "219", y: "511"},
  //     {x: "203", y: "520"},
  //     {x: "130", y: "477"}];
  //
  //   svg.append("path")
  //       .attr("id", "CT197300")
  //       .attr("class", "tract")
  //       .attr("d", line(pathData));
  //
  //   // 197410
  //   pathData = [
  //     {x: "100", y: "294"},
  //     {x: "103", y: "267"},
  //     {x: "147", y: "220"},
  //     {x: "169", y: "190"},
  //     {x: "190", y: "151"},
  //     {x: "208", y: "121"},
  //     {x: "220", y: "87"},
  //     {x: "303", y: "198"},
  //     {x: "293", y: "202"},
  //     {x: "316", y: "229"},
  //     {x: "303", y: "235"},
  //     {x: "278", y: "257"},
  //     {x: "302", y: "270"},
  //     {x: "304", y: "283"},
  //     {x: "287", y: "305"},
  //     {x: "263", y: "313"},
  //     {x: "217", y: "287"},
  //     {x: "218", y: "315"},
  //     {x: "190", y: "329"},
  //     {x: "140", y: "299"},
  //     {x: "128", y: "306"},
  //     {x: "100", y: "292"}];
  //
  //   svg.append("path")
  //       .attr("id", "CT197410")
  //       .attr("class", "tract")
  //       .attr("d", line(pathData));
  //   // 187300
  //   pathData = [
  //     {x: "112", y: "258"},
  //     {x: "102", y: "211"},
  //     {x: "102", y: "60"},
  //     {x: "80", y: "34"},
  //     {x: "49", y: "17"},
  //     {x: "45", y: "2"},
  //     {x: "110", y: "2"},
  //     {x: "126", y: "10"},
  //     {x: "158", y: "26"},
  //     {x: "194", y: "60"},
  //     {x: "211", y: "85"},
  //     {x: "208", y: "117"},
  //     {x: "169", y: "190"},
  //     {x: "147", y: "220"},
  //     {x: "112", y: "258"}];
  //
  //   svg.append("path")
  //       .attr("id", "CT187300")
  //       .attr("class", "tract")
  //       .attr("d", line(pathData));
});
